---
import type { MarkdownLayoutProps } from 'astro';
import BaseLayout from '../layouts/BaseLayout.astro';

type Props = MarkdownLayoutProps<{
    title: string,
    author: string,
    pubDate: string,
    image?: {
        url: string,
        alt?: string
    }
}>

export type { Props };

const { frontmatter } = Astro.props;

const date = new Date(frontmatter.pubDate);
date.setDate(date.getDate() + 1);

const formattedDate = Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
}).format(date);

---

<BaseLayout pageTitle={frontmatter.title} hasFooter={false}>
    <p>Written by {frontmatter.author}</p>
    <p>Published on {formattedDate}</p>
    <hr />
    {frontmatter.image?.url && <img src={frontmatter.image.url} width="300" alt={frontmatter.image?.alt} />}
    <slot />    
</BaseLayout>